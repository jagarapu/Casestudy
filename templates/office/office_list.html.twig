{% extends 'base.html.twig' %}

{% block title %}
    Offices
{% endblock %}

{% block header %}
    <h3 class="page-title">Offices list</h3>
{% endblock %}

{% block pageToolbar %}
    {% set ADMIN_USER =  (app.user and is_granted('ROLE_ADMIN')) %}
    {% if ADMIN_USER %}
    <div class="navbar">
        <a href="{{ path('office_new') }}" class="dropdown-item">
            <i class="fa fa-plus fa-white"></i>
            Add office
        </a>
    </div>
    {% endif %}
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('office-list') }}
{% endblock %}

{% block body %}
    {% set ADMIN_USER =  (app.user and is_granted('ROLE_ADMIN')) %}
    {% set EMPLOYEE_USER =  (app.user and is_granted('ROLE_EMPLOYEE')) %}
    {% include 'office/flash_messages.html.twig' %}
    {% include 'office/search_office.html.twig' %}
    <br>
    <br>
    <br>
    <br>
    <br>
    <!-- Page Content -->
    <div class="row">
        <div class="col-lg-12">
            Total {{ offices|length }} Office(s) Found<br>
            <br>
            <ul class="nav nav-tabs nav-tabs-top nav-justified mb-0">
                <li class="nav-item"><a class="nav-link complete active" href="#all_tasks" data-toggle="tab" aria-expanded="true"></a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane show active" id="all_tasks">

                    {% if offices|length > 0 %}
                        <div class="row staff-grid-row">
                            {% include 'office/list.html.twig' with {'offices': offices} %}
                        </div>
                    {% else %}
                        No Offices to display
                    {% endif %}
                    <br>
                    <div class="row">
                        <div class="col-sm-12 col-md-5">

                        </div>
                        <div class="col-sm-12 col-md-7">
                            <div class="dataTables_paginate paging_simple_numbers">
                                <div class="navigation">
                                    {{ knp_pagination_render(offices) }}
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

{#    <div id="searchFlag" data-id="{{ searchFlag }}"></div>#}
    <div id="add_modal" class="modal custom-modal" role="dialog"></div>
{#    {% include 'delete_modal.html.twig' %}#}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('office-list') }}
{% endblock %}
